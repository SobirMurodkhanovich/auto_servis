{% extends "base.html" %}
{% load static %}

{% block content %}
<main style="min-height:calc(100vh - 80px); padding:50px 60px; background:#f8fafc;">

    <!-- TOP BAR: Orqaga + Qidirish + Qo'shish -->
    <div style="max-width:1400px; margin:0 auto 30px auto; display:flex; flex-wrap:wrap; justify-content:space-between; align-items:center; gap:15px;">

        <!-- Orqaga -->
        <a href="{% url 'employee-page' %}" style="
            padding:10px 22px;
            background:#e5e7eb;
            color:#111827;
            border-radius:6px;
            text-decoration:none;
            font-size:14px;
            font-weight:500;
        ">Ортга</a>

        <!-- Search -->
        <form method="GET" action="{% url 'services-page' %}" style="display:flex; flex-grow:1; max-width:420px;">
            <input type="text" name="q" placeholder="Хизмат номи бўйича қидириш..."
                   value="{{ request.GET.q|default:'' }}"
                   style="flex:1; padding:10px 14px; border:1px solid #d1d5db; border-radius:6px 0 0 6px; font-size:14px;">
            <button type="submit" style="
                padding:10px 18px;
                border:none;
                background:#2563eb;
                color:#fff;
                font-size:14px;
                border-radius:0 6px 6px 0;
                cursor:pointer;
            ">Қидириш</button>
        </form>

        <!-- Qo'shish -->
        <a href="{% url 'services-add' %}" style="
            padding:10px 22px;
            background:#2563eb;
            color:#fff;
            border-radius:6px;
            text-decoration:none;
            font-size:14px;
            font-weight:500;
        ">+ Хизмат қўшиш</a>

    </div>

    <!-- TABLE -->
    <div style="max-width:1400px; margin:0 auto; background:#fff; border:1px solid #e5e7eb; border-radius:8px; overflow-x:auto;">
        <table style="width:100%; border-collapse:collapse; font-size:14px; color:#111827;">
            <thead style="background:#f1f5f9;">
                <tr>
                    <th style="padding:14px; text-align:left;">Хизмат номи</th>
                    <th style="padding:14px; text-align:left;">Нархи (сўм)</th>
                    <th style="padding:14px; text-align:center;">Амаллар</th>
                </tr>
            </thead>
            <tbody>
                {% for service in services %}
                <tr style="border-top:1px solid #e5e7eb;">
                    <td style="padding:12px;">{{ service.service_name }}</td>
                    <td style="padding:12px;">{{ service.service_price }}</td>
                    <td style="padding:12px; text-align:center;">

                        <!-- Edit button -->
                        <a href="{% url 'services-edit' service.pk %}" style="
                            padding:6px 12px;
                            border:1px solid #2563eb;
                            color:#2563eb;
                            border-radius:4px;
                            font-size:13px;
                            text-decoration:none;
                            margin-right:6px;
                        ">Ўзгартириш</a>

                        <!-- Delete button -->
                        <a href="{% url 'services-delete' service.pk %}" style="
                            padding:6px 12px;
                            border:1px solid #dc2626;
                            color:#dc2626;
                            border-radius:4px;
                            font-size:13px;
                            text-decoration:none;
                        "
                        onclick="return confirm('Ҳақиқатан ҳам ўчирмоқчимисиз?');">Ўчириш</a>

                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="3" style="padding:20px; text-align:center; color:#6b7280;">
                        Ҳозирча маълумот йўқ
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

</main>
{% endblock %}